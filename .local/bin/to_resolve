#!/bin/bash

# Check if user provided both arguments
if [ -z "$1" ] || [ -z "$2" ]; then
  echo "Usage: ./convert_resolve.sh <input_file> <output_file>"
  exit 1
fi

INPUT_FILE="$1"
OUTPUT_FILE="$2"

echo "Converting $INPUT_FILE to DNxHR format..."

# The FFmpeg command
ffmpeg -i "$INPUT_FILE" \
  -c:v dnxhd -profile:v dnxhr_hq -pix_fmt yuv422p \
  -c:a pcm_s16le \
  -f mov \
  "$OUTPUT_FILE"

echo "Done! Saved to $OUTPUT_FILE"
